<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Example with Iframe</title>
    <script>
      // Function to send the data to the iframe
      function sendDataToIframe() {
        const iframe = document.getElementById("myIframe");
        const data = {
          example: "This is an example JSON object",
          moreData: "Additional information here",
        };

        // Post the message to the iframe
        iframe.contentWindow.postMessage(
          JSON.stringify(data),
          "http://localhost:8080/"
        );
      }

      // Call sendDataToIframe after the page has loaded to ensure the iframe is ready
      window.onload = function () {
        // Example of sending data shortly after page load
        setTimeout(sendDataToIframe, 1000); // Adjust timing as needed
      };
    </script>
  </head>
  <body>
    <h1>Parent Page</h1>
    <p>This page contains an iframe that will receive data from the parent.</p>

    <!-- The iframe element that loads the external website -->
    <iframe
      id="myIframe"
      src="http://localhost:8080/"
      style="width: 100%; height: 600px"
      frameborder="0"
    ></iframe>
  </body>
</html>
